# AgogSaaS Backend Environment Configuration
# Copy this file to .env and update with your values

# Server Configuration
PORT=4000
NODE_ENV=development

# Database Configuration
# Format: postgresql://username:password@host:port/database
# For docker-compose: Use service name 'postgres' as host
# For local dev: Use 'localhost'
DATABASE_URL=postgresql://agogsaas_user:changeme@postgres:5432/agogsaas

# NATS Configuration
# For docker-compose: Use service name 'nats'
# For local dev: Use 'localhost'
NATS_URL=nats://nats:4222

# Layer 4 - Memory System (FREE via Ollama)
# Ollama runs locally in docker-compose, no API key needed!
# For docker-compose: Use service name 'ollama'
# For local dev: Use 'localhost'
OLLAMA_URL=http://ollama:11434

# GraphQL Configuration
GRAPHQL_PLAYGROUND=true
GRAPHQL_INTROSPECTION=true

# Mock User Configuration (Development Only)
# In production, these would come from JWT authentication
MOCK_USER_ID=user-001
MOCK_TENANT_ID=tenant-001

# Logging
LOG_LEVEL=info

# Optional: Skip database check on startup (if DB not ready yet)
SKIP_DB_CHECK=false

# Optional: Monitoring (Sentry, etc.)
# SENTRY_DSN=your-sentry-dsn-here

# ====================================
# PAYMENT GATEWAY CONFIGURATION
# REQ-STRATEGIC-AUTO-1767084329261
# ====================================

# Stripe Configuration
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_API_VERSION=2024-12-18

# Payment Gateway Settings
PAYMENT_GATEWAY_ENABLED=true
PAYMENT_GATEWAY_MODE=test
PAYMENT_GATEWAY_DEFAULT_CURRENCY=USD

# ACH Configuration
ACH_VERIFICATION_METHOD=micro_deposits
ACH_STATEMENT_DESCRIPTOR=AGOG ERP Payment

# Payment Processing
PAYMENT_TIMEOUT_SECONDS=30
PAYMENT_RETRY_ATTEMPTS=3
PAYMENT_RETRY_DELAY_MS=5000

# Webhook Configuration
WEBHOOK_SIGNATURE_VALIDATION=true
WEBHOOK_PROCESSING_ASYNC=true

# Fee Tracking
TRACK_GATEWAY_FEES=true
GATEWAY_FEE_GL_ACCOUNT_ID=
