version: '0.1'
metadata:
  domain: wave_processing
  category: Wave Processing & Fulfillment Efficiency
  total_kpis: 10
  languages:
    - en-US
    - zh-CN

kpis:
  - id: wave_cycle_time
    name:
      en-US: "Wave Cycle Time"
      zh-CN: "波次周期时间"
    description:
      en-US: "Average time from wave release to wave completion"
      zh-CN: "从波次释放到波次完成的平均时间"
    formula: "AVG(completed_at - released_at)"
    unit: hours
    target: "< 4 hours"
    priority: critical
    validation_status: can_calculate
    required_schemas:
      - wave-processing.yaml
    required_entities:
      - WaveProcessing
    required_fields:
      - released_at
      - completed_at
    calculation_notes: |
      Industry benchmark: 4-6 hours for standard waves.
      Fast waves (< 2 hours) enable same-day shipping.

  - id: picking_accuracy_rate
    name:
      en-US: "Picking Accuracy Rate"
      zh-CN: "拣选准确率"
    description:
      en-US: "Percentage of picks completed without errors"
      zh-CN: "无错误完成拣选的百分比"
    formula: "(Correct Picks / Total Picks) × 100"
    unit: percentage
    target: ">= 99.5%"
    priority: critical
    validation_status: cannot_calculate
    required_schemas:
      - wave-processing.yaml
    required_fields:
      - picks_planned
      - picks_completed
      - picks_correct
      - picks_incorrect
    calculation_notes: |
      Errors = wrong item, wrong quantity, damaged goods.
      99.5% = industry best-practice.

  - id: wave_fill_rate
    name:
      en-US: "Wave Fill Rate"
      zh-CN: "波次填充率"
    description:
      en-US: "Percentage of wave lines fully picked (no backorders)"
      zh-CN: "完全拣选的波次行百分比（无缺货）"
    formula: "(Fully Picked Lines / Total Wave Lines) × 100"
    unit: percentage
    target: ">= 95%"
    priority: high
    calculation_notes: |
      Measures inventory availability for waves.
      Low fill rate = poor inventory management.

  - id: picks_per_hour
    name:
      en-US: "Picks Per Hour (Labor Productivity)"
      zh-CN: "每小时拣选量（劳动生产率）"
    description:
      en-US: "Average picks completed per labor hour"
      zh-CN: "每个劳动小时完成的平均拣选量"
    formula: "Total Picks / Total Labor Hours"
    unit: picks_per_hour
    target: ">= 100 picks/hour"
    priority: high
    calculation_notes: |
      Industry benchmark:
      - Discrete picking: 60-80 picks/hour
      - Batch picking: 100-120 picks/hour
      - Zone picking: 120-150 picks/hour

  - id: wave_utilization_rate
    name:
      en-US: "Wave Utilization Rate"
      zh-CN: "波次利用率"
    description:
      en-US: "Percentage of available wave capacity used"
      zh-CN: "使用的可用波次容量百分比"
    formula: "(Wave Lines Planned / Wave Capacity) × 100"
    unit: percentage
    target: "75-95%"
    priority: medium
    calculation_notes: |
      75-95% is optimal (not 100%).
      100% = no buffer for rush orders.
      < 75% = inefficient batching.

  - id: manufacturing_wave_efficiency
    name:
      en-US: "Manufacturing Wave Efficiency"
      zh-CN: "制造波次效率"
    description:
      en-US: "Setup time saved by batching similar jobs in manufacturing waves"
      zh-CN: "通过制造波次批处理相似作业节省的设置时间"
    formula: "(Theoretical Individual Setup Time - Actual Batched Setup Time) / Theoretical Individual Setup Time × 100"
    unit: percentage
    target: ">= 30%"
    priority: high
    calculation_notes: |
      Manufacturing waves batch similar jobs (e.g., all red ink jobs).
      Setup time savings 25-45% typical.

  - id: wave_resequencing_rate
    name:
      en-US: "Wave Resequencing Rate"
      zh-CN: "波次重排率"
    description:
      en-US: "Percentage of waves requiring resequencing due to issues"
      zh-CN: "由于问题需要重新排序的波次百分比"
    formula: "(Resequenced Waves / Total Waves) × 100"
    unit: percentage
    target: "< 5%"
    priority: medium
    calculation_notes: |
      Resequencing needed when:
      - Inventory shortage discovered
      - Priority order added
      - Equipment breakdown
      High rate indicates poor planning.

  - id: wave_cartonization_efficiency
    name:
      en-US: "Wave Cartonization Efficiency"
      zh-CN: "波次装箱效率"
    description:
      en-US: "Percentage of optimal box selection (minimize void fill)"
      zh-CN: "最佳箱子选择百分比（最小化空隙填充）"
    formula: "(Optimal Box Selections / Total Shipments) × 100"
    unit: percentage
    target: ">= 85%"
    priority: medium
    calculation_notes: |
      Optimal = box dimension waste < 20%.
      Poor cartonization = higher shipping costs.

  - id: wave_label_print_time
    name:
      en-US: "Wave Label Print Time"
      zh-CN: "波次标签打印时间"
    description:
      en-US: "Average time to print all shipping labels for a wave"
      zh-CN: "打印波次所有运输标签的平均时间"
    formula: "AVG(labels_printed_at - wave_released_at)"
    unit: minutes
    target: "< 10 minutes"
    priority: medium
    calculation_notes: |
      Includes carrier API calls, rate shopping, label generation.
      Delays indicate API performance issues.

  - id: wave_manifest_accuracy
    name:
      en-US: "Wave Manifest Accuracy"
      zh-CN: "波次清单准确性"
    description:
      en-US: "Percentage of waves with accurate shipping manifests"
      zh-CN: "运输清单准确的波次百分比"
    formula: "(Accurate Manifests / Total Waves) × 100"
    unit: percentage
    target: ">= 99%"
    priority: critical
    calculation_notes: |
      Inaccurate manifests cause carrier disputes, shipment delays.
      Critical for end-of-day carrier pickup.
