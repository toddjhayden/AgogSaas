version: '0.1'
metadata:
  domain: ecommerce_web_to_print
  category: E-Commerce & Web-to-Print Performance
  total_kpis: 12
  languages:
    - en-US
    - zh-CN

kpis:
  - id: online_quote_conversion_rate
    name:
      en-US: "Online Quote Conversion Rate"
      zh-CN: "在线报价转化率"
    description:
      en-US: "Percentage of online quotes that convert to orders"
      zh-CN: "在线报价转化为订单的百分比"
    formula: "(Orders from Online Quotes / Total Online Quotes) × 100"
    unit: percentage
    target: ">= 30%"
    priority: high
    validation_status: cannot_calculate
    required_schemas:
      - quote.yaml
      - sales-order.yaml
    required_entities:
      - Quote
      - SalesOrder
    required_fields:
      - quote_source
      - order_created_from_quote_id

  - id: web_to_print_abandonment_rate
    name:
      en-US: "Web-to-Print Cart Abandonment Rate"
      zh-CN: "在线印刷购物车放弃率"
    description:
      en-US: "Percentage of design sessions that don't result in orders"
      zh-CN: "未转化为订单的设计会话百分比"
    formula: "(Abandoned Sessions / Total Design Sessions) × 100"
    unit: percentage
    target: "< 60%"
    priority: high
    validation_status: cannot_calculate
    required_schemas:
      - web-session.yaml
      - sales-order.yaml
    calculation_notes: |
      Track user sessions in template designer.
      Abandoned = session started but no order placed within 24 hours.

  - id: template_usage_rate
    name:
      en-US: "Template Usage Rate"
      zh-CN: "模板使用率"
    description:
      en-US: "Percentage of orders using pre-designed templates vs custom"
      zh-CN: "使用预设计模板订单与自定义订单的百分比"
    formula: "(Template Orders / Total Orders) × 100"
    unit: percentage
    target: ">= 40%"
    priority: medium
    calculation_notes: |
      Higher template usage = faster turnaround, lower design costs.

  - id: brand_portal_adoption_rate
    name:
      en-US: "Brand Portal Adoption Rate"
      zh-CN: "品牌门户采用率"
    description:
      en-US: "Percentage of eligible customers actively using brand portals"
      zh-CN: "积极使用品牌门户的合格客户百分比"
    formula: "(Active Brand Portal Users / Total Eligible Customers) × 100"
    unit: percentage
    target: ">= 70%"
    priority: high
    calculation_notes: |
      Eligible = customers with 3+ orders per year.
      Active = portal used in last 30 days.

  - id: digital_asset_utilization
    name:
      en-US: "Digital Asset Utilization Rate"
      zh-CN: "数字资产利用率"
    description:
      en-US: "Percentage of stored brand assets actively used in orders"
      zh-CN: "存储的品牌资产实际用于订单的百分比"
    formula: "(Assets Used in Last 90 Days / Total Assets) × 100"
    unit: percentage
    target: ">= 50%"
    priority: medium
    calculation_notes: |
      Helps identify obsolete assets for cleanup.

  - id: instant_quote_accuracy
    name:
      en-US: "Instant Quote Accuracy"
      zh-CN: "即时报价准确性"
    description:
      en-US: "Percentage of instant quotes within 5% of actual job cost"
      zh-CN: "即时报价在实际作业成本5%以内的百分比"
    formula: "(Accurate Quotes / Total Completed Jobs) × 100"
    unit: percentage
    target: ">= 90%"
    priority: critical
    calculation_notes: |
      Accurate = |Quoted Price - Actual Cost| / Actual Cost <= 0.05
      Validates pricing algorithm quality.

  - id: personalization_error_rate
    name:
      en-US: "Variable Data Personalization Error Rate"
      zh-CN: "可变数据个性化错误率"
    description:
      en-US: "Percentage of VDP jobs with data errors"
      zh-CN: "可变数据打印作业的数据错误百分比"
    formula: "(VDP Jobs with Errors / Total VDP Jobs) × 100"
    unit: percentage
    target: "< 2%"
    priority: critical
    calculation_notes: |
      Errors = missing data, format issues, invalid addresses.
      Critical for direct mail campaigns.

  - id: product_configurator_completion_rate
    name:
      en-US: "Product Configurator Completion Rate"
      zh-CN: "产品配置器完成率"
    description:
      en-US: "Percentage of configurator sessions resulting in quote/order"
      zh-CN: "配置器会话转化为报价/订单的百分比"
    formula: "(Completed Configurations / Started Configurations) × 100"
    unit: percentage
    target: ">= 65%"
    priority: high
    calculation_notes: |
      Measures configurator UX quality.
      Low completion = confusing interface.

  - id: average_online_quote_time
    name:
      en-US: "Average Online Quote Response Time"
      zh-CN: "平均在线报价响应时间"
    description:
      en-US: "Average time to generate instant online quote"
      zh-CN: "生成即时在线报价的平均时间"
    formula: "AVG(quote_generated_at - quote_requested_at)"
    unit: seconds
    target: "< 5 seconds"
    priority: high
    calculation_notes: |
      Real-time pricing is competitive advantage.
      > 5 seconds = user abandonment risk.

  - id: mobile_order_rate
    name:
      en-US: "Mobile Order Rate"
      zh-CN: "移动订单率"
    description:
      en-US: "Percentage of orders placed via mobile devices"
      zh-CN: "通过移动设备下单的订单百分比"
    formula: "(Mobile Orders / Total Orders) × 100"
    unit: percentage
    target: ">= 25%"
    priority: medium
    calculation_notes: |
      Validates mobile-responsive design investment.

  - id: approval_workflow_cycle_time
    name:
      en-US: "Approval Workflow Cycle Time"
      zh-CN: "审批工作流周期时间"
    description:
      en-US: "Average time from design submission to customer approval"
      zh-CN: "从设计提交到客户批准的平均时间"
    formula: "AVG(approved_at - submitted_at)"
    unit: hours
    target: "< 24 hours"
    priority: high
    calculation_notes: |
      Digital proofing speeds up approval vs physical proofs.

  - id: brand_compliance_rate
    name:
      en-US: "Brand Compliance Rate"
      zh-CN: "品牌合规率"
    description:
      en-US: "Percentage of orders meeting brand guidelines"
      zh-CN: "符合品牌指南的订单百分比"
    formula: "(Compliant Orders / Total Orders) × 100"
    unit: percentage
    target: ">= 98%"
    priority: critical
    calculation_notes: |
      Automated compliance checking in brand portals.
      Non-compliant = wrong colors, fonts, logo usage.
