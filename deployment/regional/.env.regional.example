# AgogSaaS Regional Cloud Configuration
# Copy this file to .env and configure for your region

# ============================================================================
# Region Configuration
# ============================================================================
REGION=US-EAST                      # US-EAST, EU-CENTRAL, or APAC
OTHER_REGIONS=EU-CENTRAL,APAC       # Comma-separated list of other regions

# ============================================================================
# Database Configuration
# ============================================================================
DB_NAME=agogsaas
DB_USER=agogsaas_user
DB_PASSWORD=changeme_secure_database_password_here

# PostgreSQL Performance Tuning
PG_MAX_CONNECTIONS=200
PG_SHARED_BUFFERS=2GB
PG_EFFECTIVE_CACHE_SIZE=6GB
PG_WORK_MEM=16MB

# ============================================================================
# Security
# ============================================================================
JWT_SECRET=your_jwt_secret_minimum_64_characters_for_production_here

# ============================================================================
# Active Environment
# ============================================================================
# blue = Blue environment receives traffic
# green = Green environment receives traffic
ACTIVE_ENVIRONMENT=blue

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_MAX_MEMORY=2gb
REDIS_EVICTION_POLICY=allkeys-lru

# ============================================================================
# NATS Configuration
# ============================================================================
NATS_CLUSTER_NAME=${REGION}
NATS_MAX_PAYLOAD=1048576          # 1MB

# ============================================================================
# Ollama Configuration
# ============================================================================
OLLAMA_ENABLED=true
OLLAMA_MODEL=nomic-embed-text
OLLAMA_EMBEDDING_DIMENSION=768

# ============================================================================
# Cross-Region Sync
# ============================================================================
CROSS_REGION_SYNC_ENABLED=true
SYNC_INTERVAL=60                   # Seconds

# ============================================================================
# Edge Sync
# ============================================================================
EDGE_SYNC_ENABLED=true
EDGE_SYNC_PORT=5433

# ============================================================================
# Monitoring
# ============================================================================
PROMETHEUS_RETENTION=30d
GRAFANA_USER=admin
GRAFANA_PASSWORD=changeme_secure_grafana_password_here

# Alert Configuration
ALERT_EMAIL=alerts@agogsaas.com
ALERT_SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/WEBHOOK/HERE

# ============================================================================
# Backup
# ============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *          # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# ============================================================================
# SSL/TLS
# ============================================================================
SSL_ENABLED=true
SSL_CERT_PATH=/etc/nginx/certs/cert.pem
SSL_KEY_PATH=/etc/nginx/certs/key.pem

# ============================================================================
# Auto-Scaling
# ============================================================================
AUTOSCALE_ENABLED=true
BACKEND_MIN_REPLICAS=3
BACKEND_MAX_REPLICAS=10
FRONTEND_MIN_REPLICAS=2
FRONTEND_MAX_REPLICAS=5

# ============================================================================
# Environment
# ============================================================================
NODE_ENV=production
LOG_LEVEL=info

# ============================================================================
# Feature Flags
# ============================================================================
GRAPHQL_PLAYGROUND=false           # Disable in production
GRAPHQL_INTROSPECTION=false        # Disable in production
DEBUG_MODE=false

# ============================================================================
# Rate Limiting
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000         # 1 minute
RATE_LIMIT_MAX_REQUESTS=100        # 100 requests per minute per IP

# ============================================================================
# Session Configuration
# ============================================================================
SESSION_SECRET=your_session_secret_minimum_32_characters_here
SESSION_MAX_AGE=86400000           # 24 hours in milliseconds
SESSION_SECURE=true                # Require HTTPS
