@echo off
REM ============================================================================
REM AgogSaaS Complete System Shutdown (Separated Architecture v2.0)
REM ============================================================================
REM This script stops BOTH systems:
REM   1. Application Stack (PostgreSQL, Backend, Frontend)
REM   2. Agent Development System (NATS, Strategic Orchestrator)
REM
REM For production: Only run STOP_APPLICATION.bat
REM For development: Run both stop scripts
REM
REM Usage: Double-click this file or run from command line
REM Location: D:\GitHub\agogsaas\.claude\STOP_AGOGSAAS.bat
REM ============================================================================

echo.
echo ============================================================================
echo   AgogSaaS Complete System Shutdown (v2.0 - Separated Architecture)
echo ============================================================================
echo.

REM Change to project root
cd /d "D:\GitHub\agogsaas"

echo [1/2] Stopping AGENT DEVELOPMENT system...
echo     Using: docker-compose.agents.yml
cd Implementation\print-industry-erp
docker-compose -f docker-compose.agents.yml stop
if %errorlevel% neq 0 (
    echo ERROR: Failed to stop agent system
) else (
    echo     ✓ Agent development system stopped
)

echo.
echo [2/2] Stopping APPLICATION stack...
echo     Using: docker-compose.app.yml
docker-compose -f docker-compose.app.yml stop
if %errorlevel% neq 0 (
    echo ERROR: Failed to stop application services
) else (
    echo     ✓ Application services stopped
)

echo.
echo ============================================================================
echo   AgogSaaS System Stopped Successfully!
echo ============================================================================
echo.
echo All services have been shut down (containers preserved).
echo.
echo To start again:
echo   - Run START_AGOGSAAS.bat (both systems)
echo   - Run RUN_APPLICATION.bat (app only)
echo   - Run RUN_AGENTS.bat (agents only)
echo.
echo ============================================================================
echo.
pause
