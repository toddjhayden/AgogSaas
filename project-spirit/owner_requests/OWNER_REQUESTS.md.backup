# OWNER REQUESTS - Feature Backlog

This file tracks feature requests from product owners (Marcus, Sarah, Alex). The strategic orchestrator monitors this file and automatically spawns specialist workflows when new requests are detected.

## Request Format

```
REQ-{DOMAIN}-{NUMBER}: {Feature Title}
Status: {NEW | IN_PROGRESS | COMPLETE | BLOCKED | PENDING}
Owner: {marcus | sarah | alex}
Priority: {P0 | P1 | P2 | P3}
Business Value: {Brief description}

Status Meanings:
- NEW: Brand new request, will be picked up by orchestrator on next scan
- IN_PROGRESS: Workflow is actively running
- COMPLETE: Workflow finished successfully
- BLOCKED: Requires manual intervention
- PENDING: Recovery state only (crash/token limit), orchestrator verifies before starting
```

---

## Active Requests

### REQ-ITEM-MASTER-001: Item Master Pattern Implementation

**Status**: IN_PROGRESS
**Owner**: marcus
**Priority**: P0
**Business Value**: Enable unified item catalog supporting both materials (purchased) and products (sold/manufactured). Critical foundation for inventory, procurement, and sales modules.

**Requirements**:

- Unified items table with role flags (can_be_purchased, can_be_sold, can_be_manufactured)
- Support for dual-role items (e.g., blank labels that are both purchased and sold)
- Multi-UOM support with conversion factors
- 3-layer attribute model (material, product, physical)
- SCD Type 2 for price/attribute change history
- Integration with existing materials/products tables (migration strategy)

**Current Stage**: Critique (Sylvia evaluating Cynthia's research)

---

### REQ-STOCK-TRACKING-001: Real-Time Stock Level Monitoring

**Status**: IN_PROGRESS
**Owner**: marcus
**Priority**: P1
**Business Value**: Enable real-time visibility into inventory levels across all warehouses. Reduces stockouts by 60% and excess inventory by 40%.

**Requirements**:

- Real-time stock level tracking per item per warehouse
- Automated reorder point calculations
- Low stock alerts and notifications
- Stock movement history (receipts, issues, adjustments, transfers)
- Integration with Item Master (REQ-ITEM-MASTER-001)
- Dashboard showing current stock levels vs. min/max thresholds

---

### REQ-SALES-ORDER-ENTRY-001: Streamlined Sales Order Entry

**Status**: IN_PROGRESS
**Owner**: sarah
**Priority**: P0
**Business Value**: Reduce order entry time from 15 minutes to 2 minutes. Eliminate 70% of specification errors. Enable customer self-service.

**Requirements**:

- Quick order entry form with autocomplete
- Customer-specific pricing and discount application
- Product configurator for CTO (Configure-to-Order) items
- Real-time inventory availability check
- Delivery date estimation based on production schedule
- Order confirmation with PDF proof
- Integration with Item Master and Customer Master

---

### REQ-CUSTOMER-PRICING-001: Customer-Specific Pricing Engine

**Status**: IN_PROGRESS
**Owner**: sarah
**Priority**: P1
**Business Value**: Support volume discounts, customer-specific pricing, and promotional pricing. Increase average order value by 15%.

**Requirements**:

- Base price lists per item
- Customer-specific price overrides
- Volume discount tiers (quantity breaks)
- Promotional pricing with date ranges
- Contract pricing for enterprise customers
- Price history for audit trail (SCD Type 2)
- Pricing approval workflow for discounts > 20%

---

### REQ-VENDOR-MANAGEMENT-001: Vendor Master and Performance Tracking

**Status**: IN_PROGRESS
**Owner**: alex
**Priority**: P1
**Business Value**: Centralize vendor information and track performance. Reduce procurement costs by 10% through better vendor selection.

**Requirements**:

- Vendor master data (contact, payment terms, certifications)
- Vendor performance metrics (on-time delivery, quality ratings)
- Preferred vendor designation per item
- Vendor price lists and quote comparison
- Vendor certifications and compliance tracking
- Integration with Item Master (materials sourcing)

---

### REQ-PURCHASE-ORDER-001: Purchase Order Creation and Tracking

**Status**: IN_PROGRESS
**Owner**: alex
**Priority**: P0
**Business Value**: Automate PO creation based on reorder points. Enable three-way matching for invoice processing. Reduce manual PO processing time by 80%.

**Requirements**:

- PO creation from reorder point triggers
- PO approval workflow (based on amount thresholds)
- Receiving module with qty/quality checks
- Three-way matching (PO + Receipt + Invoice)
- PO status tracking (pending, approved, received, closed)
- Integration with Vendor Master and Stock Tracking
- Email PO delivery to vendors

---

### REQ-DEVOPS-ORCHESTRATOR-001: Debug and Fix Strategic Orchestrator Issues

**Status**: IN_PROGRESS
**Owner**: marcus
**Priority**: P0
**Business Value**: Ensure agent orchestration system is fully operational. Critical for autonomous AI-assisted development workflows. Without working orchestration, agents cannot process requests and the entire AI development platform is non-functional.

**Requirements**:

- Debug why strategic orchestrator wasn't scanning OWNER_REQUESTS.md
- Fix regex pattern bugs in request detection (file has blank lines between title and status)
- Fix status update pattern to handle actual file format
- Add comprehensive logging for all scan operations
- Verify NATS stream subscriptions are working
- Test workflow spawning with both NEW and PENDING requests
- Document all fixes in deliverable
- Create runbook for orchestration debugging
- Add health checks for orchestrator daemon
- Verify volume mounts for file access

**Issues Found (for Berry to investigate):**

1. Initial scan never fired (missing error handling/logging)
2. Regex pattern `/###\s+(REQ-[A-Z-]+-\d+):[^\n]*\n\*\*Status\*\*:\s*(\w+)/g` only matched single newline but file has blank lines
3. Same bug in `updateRequestStatus()` method
4. No logging to debug why scans weren't detecting requests
5. Agent container uses `agent-backend/src/` not `backend/src/`

**Current State:**

- Orchestrator daemon starts successfully
- Initial scan now runs and completes
- Requests are detected and workflows start
- Still need verification of full workflow completion
- Need better monitoring and alerting

**Expected Outcome:**

- Fully documented orchestration debugging guide
- All regex patterns fixed and tested
- Comprehensive logging for troubleshooting
- Health monitoring dashboard for orchestrator
- Runbook for common orchestration issues

---

### REQ-INFRA-DASHBOARD-001: Fix Monitoring Dashboard Missing Dependencies

**Status**: IN_PROGRESS
**Owner**: marcus
**Priority**: P0
**Business Value**: Restore monitoring dashboard functionality. Critical for observing Layer 2 (Health Monitoring), Layer 3 (Orchestration), and Layer 4 (Memory) system health in real-time.

**Requirements**:

- Fix missing `react-i18next` dependency in frontend container
- Verify all other i18n dependencies are installed
- Ensure volume mounts don't override node_modules
- Test monitoring dashboard loads at http://localhost:3000/monitoring
- Verify all 4 monitoring cards render (System Health, Current Errors, Active Fixes, Agent Activity)
- **REQUIRED: Billy (QA) must use Playwright MCP to test actual user experience**
  - Navigate to http://localhost:3000/monitoring in real browser
  - Verify page loads without console errors
  - Verify all 4 cards are visible and contain data
  - Take screenshot of working dashboard
  - Test is NOT complete until Playwright confirms user can see the page
- Document fix in Miki's deliverables for future reference

**Technical Details**:

- Error: "Failed to resolve import 'react-i18next' from src/App.tsx"
- Location: Frontend container `/app/node_modules`
- Likely cause: Volume mount or missing package installation
- Expected fix: Ensure `npm install` runs with all dependencies, check docker-compose volumes

**Owner-Provided Assets**:

- See `project-spirit/owner_requests/assets/REQ-INFRA-DASHBOARD-001/` for screenshots of the issue

---

## Completed Requests

_None yet - first workflows in progress_

---

## Blocked Requests

_None yet_

---

## Request Guidelines for Product Owners

### Marcus (Warehouse/Inventory)

Submit requests for:

- Item Master management
- Stock tracking and movements
- Bin locations and warehouse operations
- Inventory adjustments and cycle counts
- Lot and serial number tracking

### Sarah (Sales/CRM)

Submit requests for:

- Customer management
- Sales order processing
- Pricing and invoicing
- Quote generation
- Customer portal and self-service

### Alex (Procurement/Vendors)

Submit requests for:

- Vendor management
- Purchase order processing
- RFQs and quote comparisons
- Receiving and quality checks
- Supplier performance tracking

---

## Adding New Requests

1. Use format: `REQ-{DOMAIN}-{NUMBER}: {Title}`
2. Set status to PENDING
3. Assign to appropriate owner (marcus/sarah/alex)
4. Set priority (P0=Critical, P1=High, P2=Medium, P3=Low)
5. Describe business value clearly
6. List specific requirements
7. **If providing screenshots/assets**: Create directory `project-spirit/owner_requests/assets/REQ-{DOMAIN}-{NUMBER}/` and place images there
8. Strategic orchestrator will detect and route automatically

---

**Last Updated**: 2025-12-20
**Total Active Requests**: 7
**Total In Progress**: 1
**Total Completed**: 0
